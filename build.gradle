buildscript {
	repositories {
		jcenter()
		maven {
			name 'forge'
			url 'http://files.minecraftforge.net/maven'
		}
		maven {
			name 'm2'
			url 'https://plugins.gradle.org/m2'
		}
		maven {
			name 'sponge'
			url 'https://repo.spongepowered.org/maven'
		}
	}
	dependencies {
		classpath 'net.minecraftforge.gradle:ForgeGradle:2.1-SNAPSHOT'
        classpath 'org.spongepowered:mixingradle:0.4-SNAPSHOT'
		classpath 'gradle.plugin.mnm.mods.kappa:ap-ide:1.0.5'
	}
}
apply plugin: 'net.minecraftforge.gradle.tweaker-client'
apply plugin: 'org.spongepowered.mixin'
apply plugin: 'mnm.gradle.ap-ide'

minecraft {
	version = '1.8.9'
	mappings = 'stable_22'
	runDir = 'run'
	tweakClass = 'me.dags.daflight.DaFlightLoaderTweaker'
}

group = 'me.dags'
version = "3.0.2-$minecraft.version"

repositories {
	maven {
		name 'sponge'
		url 'https://repo.spongepowered.org/maven'
	}
}

dependencies {
	compile('org.spongepowered:mixin:0.5.3-SNAPSHOT') {
		exclude module: 'asm-commons'
        exclude module: 'asm-tree'
        exclude module: 'launchwrapper'
        exclude module: 'guava'
	}
	factory 'org.spongepowered:mixin:0.5.3-SNAPSHOT'
}
processor {
	options.reobfSrgFile = project.tasks.genSrgs.mcpToSrg.path
}
mixin {
//	add sourceSets.main, 'mixin.daflight.refmap.json'
	defaultObfuscationEnv notch
}
jar {
	manifest {
		attributes  'Built-By': 'ForgeGradle',
					'Implementation-Vendor': 'dags',
					'Implementation-Title': project.name,
					'Implementation-Version': project.version,
					'TweakClass': 'me.dags.daflight.launch.DaFlightLoaderTweaker',
					'TweakName': project.name,
					'TweakVersion': project.version,
					'TweakAuthor': 'dags'
			
	}
}
